<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Yuki Naito, Python port">
    <!-- <meta name="description" content="ãƒ¢ãƒ€ãƒ³ãªãƒ†ã‚­ã‚¹ãƒˆå·®åˆ†æ¯”è¼ƒãƒ„ãƒ¼ãƒ« - 2ã¤ã®æ–‡ç« ã‚’æ¯”è¼ƒã—ã¦é•ã„ã‚’è¦–è¦šçš„ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º"> -->
    <title>Modern Diff Tool - ãƒ†ã‚­ã‚¹ãƒˆå·®åˆ†æ¯”è¼ƒ</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/style.css') }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ”</text></svg>">
</head>
<body>
    <div class="container">
        <div id="top">
            <div class="header">
                <h1 class="title">
                    <a class="title-link" href="/">ğŸ“ Python Diff Tool</a>
                </h1>
            </div>
        </div>

        <div id="form">
            {% if error %}
            <div class="error-message">
                {{ error | e }}
            </div>
            {% endif %}
            <p>
                2ã¤ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ¯”è¼ƒã—ã¦ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã—ã¾ã™ã€‚<br>
                å·¦å³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«æ¯”è¼ƒã—ãŸã„æ–‡ç« ã‚’å…¥åŠ›ã—ã€ã€Œæ¯”è¼ƒå®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚
            </p>
            
            <form method="POST" id="difff" name="difff" action="/">
                <table class="input-table">
                    <tr>
                        <td class="input-cell">
                            <textarea name="sequenceA" rows="20" placeholder="æ¯”è¼ƒå…ƒã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...">{{ text_a | e }}</textarea>
                        </td>
                        <td class="input-cell">
                            <textarea name="sequenceB" rows="20" placeholder="æ¯”è¼ƒå…ˆã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...">{{ text_b | e }}</textarea>
                        </td>
                    </tr>
                </table>
                
                <button type="submit" class="compare-btn">
                    ğŸ” æ¯”è¼ƒå®Ÿè¡Œ
                </button>
            </form>
        </div>

        {% if show_result %}
        <div id="result">
            <h2 style="color: var(--gray-700); font-size: 20px; font-weight: 600; margin-bottom: 20px; text-align: center;">
                ğŸ“Š æ¯”è¼ƒçµæœ
            </h2>
            
            <table class="result-table">
                {% for row in comparison_result %}
                <tr>
                    <td>{{ row.text_a | safe }}</td>
                    <td>{{ row.text_b | safe }}</td>
                </tr>
                {% endfor %}
                
                <!-- Statistics row -->
                <tr>
                    <td class="stats">
                        <div class="stats-text">
                            <strong>ğŸ“ˆ çµ±è¨ˆæƒ…å ± (å·¦å´)</strong><br>
                            æ–‡å­—æ•°: {{ stats_a.chars_only | int }} æ–‡å­—<br>
                            ç©ºç™½æ•°: {{ (stats_a.with_spaces - stats_a.chars_only) | int }} å€‹<br>
                            æ”¹è¡Œæ•°: {{ (stats_a.with_newlines - stats_a.with_spaces) | int }} å€‹<br>
                            å˜èªæ•°: {{ stats_a.words | int }} èª
                        </div>
                    </td>
                    <td class="stats">
                        <div class="stats-text">
                            <strong>ğŸ“ˆ çµ±è¨ˆæƒ…å ± (å³å´)</strong><br>
                            æ–‡å­—æ•°: {{ stats_b.chars_only | int }} æ–‡å­—<br>
                            ç©ºç™½æ•°: {{ (stats_b.with_spaces - stats_b.chars_only) | int }} å€‹<br>
                            æ”¹è¡Œæ•°: {{ (stats_b.with_newlines - stats_b.with_spaces) | int }} å€‹<br>
                            å˜èªæ•°: {{ stats_b.words | int }} èª
                        </div>
                    </td>
                </tr>
            </table>

            <div class="controls">
                <input type="button" id="hide" value="ğŸ“„ å°åˆ·ç”¨è¡¨ç¤ºåˆ‡æ›¿" onclick="hideForm()">
                <div style="margin-top: 15px;">
                    <span style="color: var(--gray-600); font-weight: 600;">ğŸ¨ ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒ:</span>
                    <label style="margin: 0 10px; cursor: pointer;">
                        <input type="radio" name="color" value="1" onclick="setColor1()" checked style="margin-right: 5px;">
                        <span class="blue">ãƒ–ãƒ«ãƒ¼</span>
                    </label>
                    <label style="margin: 0 10px; cursor: pointer;">
                        <input type="radio" name="color" value="2" onclick="setColor2()" style="margin-right: 5px;">
                        <span class="green">ã‚°ãƒªãƒ¼ãƒ³</span>
                    </label>
                    <label style="margin: 0 10px; cursor: pointer;">
                        <input type="radio" name="color" value="3" onclick="setColor3()" style="margin-right: 5px;">
                        <span class="black">ãƒ¢ãƒã‚¯ãƒ­</span>
                    </label>
                </div>
            </div>
        </div>
        {% endif %}
    </div>

    <script src="{{ url_for('static', path='js/script.js') }}"></script>
</body>
</html>